{"ast":null,"code":"import axios from \"axios\";\nimport { getToken } from \"./postTokenAction\";\nexport const GET_USER_PROFILE = \"GET_USER_PROFILE\";\nexport const getUserProfile = () => {\n  return dispatch => {\n    const formData = {\n      email: \"tony@stark.com\",\n      password: \"password123\"\n    }; // Appelle l'action getToken pour obtenir le token\n\n    getToken(formData) // Assure-toi de passer les bonnes données du formulaire ici\n    .then(token => {\n      if (token) {\n        // Utilise le token dans la requête Axios pour obtenir le profil\n        axios.post(\"http://localhost:3001/api/v1/user/profile\", {}, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }).then(res => {\n          console.log(res.data.body);\n          dispatch({\n            type: GET_USER_PROFILE,\n            payload: res.data.body\n          });\n        });\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/Users/guillaumemacbookpro/Desktop/Redux/src/_actions/userProfileAction.js"],"names":["axios","getToken","GET_USER_PROFILE","getUserProfile","dispatch","formData","email","password","then","token","post","headers","Authorization","res","console","log","data","body","type","payload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AAEA,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AAEP,OAAO,MAAMC,cAAc,GAAG,MAAM;AAClC,SAAQC,QAAD,IAAc;AACnB,UAAMC,QAAQ,GAAG;AAAEC,MAAAA,KAAK,EAAE,gBAAT;AAA2BC,MAAAA,QAAQ,EAAE;AAArC,KAAjB,CADmB,CAEnB;;AACAN,IAAAA,QAAQ,CAACI,QAAD,CAAR,CAAmB;AAAnB,KACGG,IADH,CACSC,KAAD,IAAW;AACf,UAAIA,KAAJ,EAAW;AACT;AACAT,QAAAA,KAAK,CACFU,IADH,CAEI,2CAFJ,EAGI,EAHJ,EAII;AACEC,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa,EAAG,UAASH,KAAM;AADxB;AADX,SAJJ,EAUGD,IAVH,CAUSK,GAAD,IAAS;AACbC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,IAArB;AACAb,UAAAA,QAAQ,CAAC;AAAEc,YAAAA,IAAI,EAAEhB,gBAAR;AAA0BiB,YAAAA,OAAO,EAAEN,GAAG,CAACG,IAAJ,CAASC;AAA5C,WAAD,CAAR;AACD,SAbH;AAcD;AACF,KAnBH;AAoBD,GAvBD;AAwBD,CAzBM","sourcesContent":["import axios from \"axios\";\nimport { getToken } from \"./postTokenAction\";\n\nexport const GET_USER_PROFILE = \"GET_USER_PROFILE\";\n\nexport const getUserProfile = () => {\n  return (dispatch) => {\n    const formData = { email: \"tony@stark.com\", password: \"password123\" };\n    // Appelle l'action getToken pour obtenir le token\n    getToken(formData) // Assure-toi de passer les bonnes données du formulaire ici\n      .then((token) => {\n        if (token) {\n          // Utilise le token dans la requête Axios pour obtenir le profil\n          axios\n            .post(\n              \"http://localhost:3001/api/v1/user/profile\",\n              {},\n              {\n                headers: {\n                  Authorization: `Bearer ${token}`,\n                },\n              }\n            )\n            .then((res) => {\n              console.log(res.data.body);\n              dispatch({ type: GET_USER_PROFILE, payload: res.data.body });\n            });\n        }\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}