{"ast":null,"code":"import axios from \"axios\";\nimport { getToken } from \"./postTokenAction\";\nexport const GET_USER_PROFILE = \"GET_USER_PROFILE\";\nexport const getUserProfile = token => {\n  // Accepte formData en tant que paramètre\n  return async (dispatch, getState) => {\n    try {\n      await dispatch(getToken(token));\n      const {\n        token\n      } = getState().postReducer;\n      console.log(token);\n\n      if (!token) {\n        return {\n          error: \"Token not found\"\n        };\n      }\n\n      const response = await axios.post(\"http://localhost:3001/api/v1/user/profile\", {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(response);\n      dispatch({\n        type: GET_USER_PROFILE,\n        payload: response.data.body\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};","map":{"version":3,"sources":["/Users/guillaumemacbookpro/Desktop/Redux/src/_actions/userProfileAction.js"],"names":["axios","getToken","GET_USER_PROFILE","getUserProfile","token","dispatch","getState","postReducer","console","log","error","response","post","headers","Authorization","type","payload","data","body","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AAEA,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AAEP,OAAO,MAAMC,cAAc,GAAIC,KAAD,IAAW;AACvC;AACA,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACnC,QAAI;AACF,YAAMD,QAAQ,CAACJ,QAAQ,CAACG,KAAD,CAAT,CAAd;AAEA,YAAM;AAAEA,QAAAA;AAAF,UAAYE,QAAQ,GAAGC,WAA7B;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;;AAEA,UAAI,CAACA,KAAL,EAAY;AACV,eAAO;AACLM,UAAAA,KAAK,EAAE;AADF,SAAP;AAGD;;AACD,YAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,IAAN,CACrB,2CADqB,EAErB,EAFqB,EAGrB;AACEC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASV,KAAM;AADxB;AADX,OAHqB,CAAvB;AASAI,MAAAA,OAAO,CAACC,GAAR,CAAYE,QAAZ;AACAN,MAAAA,QAAQ,CAAC;AAAEU,QAAAA,IAAI,EAAEb,gBAAR;AAA0Bc,QAAAA,OAAO,EAAEL,QAAQ,CAACM,IAAT,CAAcC;AAAjD,OAAD,CAAR;AACD,KAvBD,CAuBE,OAAOC,GAAP,EAAY;AACZX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACD;AACF,GA3BD;AA4BD,CA9BM","sourcesContent":["import axios from \"axios\";\nimport { getToken } from \"./postTokenAction\";\n\nexport const GET_USER_PROFILE = \"GET_USER_PROFILE\";\n\nexport const getUserProfile = (token) => {\n  // Accepte formData en tant que paramètre\n  return async (dispatch, getState) => {\n    try {\n      await dispatch(getToken(token));\n\n      const { token } = getState().postReducer;\n\n      console.log(token);\n\n      if (!token) {\n        return {\n          error: \"Token not found\",\n        };\n      }\n      const response = await axios.post(\n        \"http://localhost:3001/api/v1/user/profile\",\n        {},\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      console.log(response);\n      dispatch({ type: GET_USER_PROFILE, payload: response.data.body });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}