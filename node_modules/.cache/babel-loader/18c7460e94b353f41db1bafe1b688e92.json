{"ast":null,"code":"import axios from \"axios\";\nimport { getToken } from \"./postTokenAction\";\nexport const GET_USER_PROFILE = \"GET_USER_PROFILE\";\nexport const getUserProfile = () => {\n  // Accepte formData en tant que paramètre\n  return async (dispatch, getState) => {\n    try {\n      const {\n        token\n      } = await getState().postReducer;\n      console.log(token);\n\n      if (!token) {\n        return;\n      }\n\n      const response = await axios.post(\"http://localhost:3001/api/v1/user/profile\", {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(response);\n      dispatch({\n        type: GET_USER_PROFILE,\n        payload: response.data.body\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};","map":{"version":3,"sources":["/Users/guillaumemacbookpro/Desktop/Redux/src/_actions/userProfileAction.js"],"names":["axios","getToken","GET_USER_PROFILE","getUserProfile","dispatch","getState","token","postReducer","console","log","response","post","headers","Authorization","type","payload","data","body","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AAEA,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AAEP,OAAO,MAAMC,cAAc,GAAG,MAAM;AAClC;AACA,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACnC,QAAI;AACF,YAAM;AAAEC,QAAAA;AAAF,UAAY,MAAMD,QAAQ,GAAGE,WAAnC;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;;AAEA,UAAI,CAACA,KAAL,EAAY;AACV;AACD;;AACD,YAAMI,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAN,CACrB,2CADqB,EAErB,EAFqB,EAGrB;AACEC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASP,KAAM;AADxB;AADX,OAHqB,CAAvB;AASAE,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;AACAN,MAAAA,QAAQ,CAAC;AAAEU,QAAAA,IAAI,EAAEZ,gBAAR;AAA0Ba,QAAAA,OAAO,EAAEL,QAAQ,CAACM,IAAT,CAAcC;AAAjD,OAAD,CAAR;AACD,KAlBD,CAkBE,OAAOC,GAAP,EAAY;AACZV,MAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACD;AACF,GAtBD;AAuBD,CAzBM","sourcesContent":["import axios from \"axios\";\nimport { getToken } from \"./postTokenAction\";\n\nexport const GET_USER_PROFILE = \"GET_USER_PROFILE\";\n\nexport const getUserProfile = () => {\n  // Accepte formData en tant que paramètre\n  return async (dispatch, getState) => {\n    try {\n      const { token } = await getState().postReducer;\n      console.log(token);\n\n      if (!token) {\n        return;\n      }\n      const response = await axios.post(\n        \"http://localhost:3001/api/v1/user/profile\",\n        {},\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      console.log(response);\n      dispatch({ type: GET_USER_PROFILE, payload: response.data.body });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}